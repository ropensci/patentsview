<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Search PatentsView — search_pv â€¢ patentsview</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">patentsview</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/getting-started.html">
    <span class="fa fa-play"></span>
     
    Getting started
  </a>
</li>
<li>
  <a href="../articles/writing-queries.html">
    <span class="fa fa-pencil"></span>
     
    Writing queries
  </a>
</li>
<li>
  <a href="../articles/examples.html">
    <span class="fa fa-code"></span>
     
    Examples
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bar-chart"></span>
     
    Applications
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/top-assignees.html">
        <span class="fa fa-university"></span>
         
        Top assignees
      </a>
    </li>
    <li>
      <a href="../articles/citation-networks.html">
        <span class="fa fa-long-arrow-left"></span>
         
        Citation networks
      </a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">
    <span class="fa fa-info-circle"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="https://github.com/ropensci/patentsview">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Search PatentsView</h1>
    </div>

    
    <p>This function makes an HTTP request to the PatentsView API for data matching
the user's query.</p>
    

    <pre class="usage"><span class='fu'>search_pv</span>(<span class='no'>query</span>, <span class='kw'>fields</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>endpoint</span> <span class='kw'>=</span> <span class='st'>"patents"</span>, <span class='kw'>subent_cnts</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>mtchd_subent_only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>page</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>per_page</span> <span class='kw'>=</span> <span class='fl'>25</span>, <span class='kw'>all_pages</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>sort</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"GET"</span>, <span class='kw'>error_browser</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"pv_browser"</span>),
  <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>query</th>
      <td><p>The query that the API will use to filter records. <code>query</code>
 can come in any one of the following forms:</p><ul>
<li><p>A character string with valid JSON. 
   E.g., <code>'{"_gte":{"patent_date":"2007-01-04"}}'</code></p></li>
<li><p>A list which will be converted to JSON by <code>search_pv</code>. 
   E.g., <code>list("_gte" = list("patent_date" = "2007-01-04"))</code></p></li>
<li><p>An object of class <code>pv_query</code>, which you create by calling one
   of the functions found in the <code><a href='qry_funs.html'>qry_funs</a></code> list...See the
   <a href='http://ropensci.github.io/patentsview/articles/writing-queries.html'>writing
   queries vignette</a> for details.
   E.g., <code>qry_funs$gte(patent_date = "2007-01-04")</code></p></li>
</ul></td>
    </tr>
    <tr>
      <th>fields</th>
      <td><p>A character vector of the fields that you want returned to you.
A value of <code>NULL</code> indicates that the default fields should be
returned. Acceptable fields for a given endpoint can be found at the API's
online documentation (e.g., check out the field list for the
<a href='http://www.patentsview.org/api/patent.html#field_list'>patents
endpoint</a>) or by viewing the <code>fieldsdf</code> data frame
(<code>View(fieldsdf)</code>). You can also use <code><a href='get_fields.html'>get_fields</a></code> to list
out the fields available for a given endpoint.</p></td>
    </tr>
    <tr>
      <th>endpoint</th>
      <td><p>The web service resource you wish to search. <code>endpoint</code>
must be one of the following: "patents", "inventors", "assignees",
"locations", "cpc_subsections", "uspc_mainclasses", or "nber_subcategories".</p></td>
    </tr>
    <tr>
      <th>subent_cnts</th>
      <td><p>Do you want the total counts of unique subentities to be
returned? This is equivalent to the <code>include_subentity_total_counts</code>
parameter found <a href='http://www.patentsview.org/api/query-language.html#options_parameter'>here</a>.</p></td>
    </tr>
    <tr>
      <th>mtchd_subent_only</th>
      <td><p>Do you want only the subentities that match your
query to be returned? A value of <code>TRUE</code> indicates that the subentity
has to meet your query's requirements in order for it to be returned, while
a value of <code>FALSE</code> indicates that all subentity data will be returned,
even those records that don't meet your query's requirements. This is
equivalent to the <code>matched_subentities_only</code> parameter found
<a href='http://www.patentsview.org/api/query-language.html#options_parameter'>here</a>.</p></td>
    </tr>
    <tr>
      <th>page</th>
      <td><p>The page number of the results that should be returned.</p></td>
    </tr>
    <tr>
      <th>per_page</th>
      <td><p>The number of records that should be returned per page. This
value can be as high as 10,000 (e.g., <code>per_page = 10000</code>).</p></td>
    </tr>
    <tr>
      <th>all_pages</th>
      <td><p>Do you want to download all possible pages of output? If
<code>all_pages = TRUE</code>, the values of <code>page</code> and <code>per_page</code> are
ignored.</p></td>
    </tr>
    <tr>
      <th>sort</th>
      <td><p>A named character vector where the name indicates the field to
sort by and the value indicates the direction of sorting (direction should
be either "asc" or "desc"). For example, <code>sort = c("patent_number" =
"asc")</code> or <code>sort = c("patent_number" = "asc", "patent_date" =
"desc")</code>. <code>sort = NULL</code> (the default) means do not sort the results.
You must include any fields that you wish to sort by in <code>fields</code>.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The HTTP method that you want to use to send the request.
Possible values include "GET" or "POST". Use the POST method when
your query is very long (say, over 2,000 characters in length).</p></td>
    </tr>
    <tr>
      <th>error_browser</th>
      <td><p>The program used to view the HTML error
 messages sent by the API. This should be one of the following:</p><ul>
<li><p>The string "false" (the default), which turns error browsing off.
   Instead of viewing the HTML in this case, you will get a portion of the
   parsed HTML text returned to you as an R error.</p></li>
<li><p>The name of the program to use to view the HTML error message. If
   the name of the program is on your PATH, just specify the program name
   (e.g., <code>error_browser = "chrome"</code>). Otherwise, include the full
   path to the program.</p></li>
<li><p>An R function to be called to invoke the browser (e.g., 
   <code>error_browser = rstudioapi::viewer</code>)</p></li>
<li><p>Under Windows, a value of <code>NULL</code> is allowed and implies that
   the file association mechanism will be used to determine which browser is
   used.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed along to httr's <code><a href='http://www.rdocumentation.org/packages/httr/topics/GET'>GET</a></code> or
<code><a href='http://www.rdocumentation.org/packages/httr/topics/POST'>POST</a></code> function.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following three elements:</p><dl class='dl-horizontal'>
   <dt>data</dt><dd><p>A list with one element - a named data frame containing the
   data returned by the server. Each row in the data frame corresponds to a
   single value for the primary entity. For example, if you search the
   assignees endpoint, then the data frame will be on the assignee-level,
   where each row corresponds to a single assignee. Fields that are not on
   the assignee-level would be returned in list columns.</p></dd>

   <dt>query_results</dt><dd><p>Entity counts across all pages of output (not just
   the page returned to you). If you set <code>subent_cnts = TRUE</code>, you will
   be returned both the counts of the primary entities and the subentities.</p></dd>

   <dt>request</dt><dd><p>Details of the HTTP request that was sent to the server.
   When you set <code>all_pages = TRUE</code>, you will only get a sample request.
   In other words, you will not be given multiple requests for the multiple
   calls that were made to the server (one for each page of results).</p></dd>
 </dl>

    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>search_pv</span>(<span class='kw'>query</span> <span class='kw'>=</span> <span class='st'>'{"_gt":{"patent_year":2010}}'</span>)</div><div class='output co'>#&gt; $data
#&gt; #### A list with a single data frame on a patent level:
#&gt; 
#&gt; List of 1
#&gt;  $ patents:'data.frame':	25 obs. of  3 variables:
#&gt;   ..$ patent_id    : chr [1:25] "7861317" ...
#&gt;   ..$ patent_number: chr [1:25] "7861317" ...
#&gt;   ..$ patent_title : chr [1:25] "Nose cover" ...
#&gt; 
#&gt; $query_results
#&gt; #### Distinct entity counts across all downloadable pages of output:
#&gt; 
#&gt; total_patent_count = 100,000</div><div class='input'>
<span class='fu'>search_pv</span>(
  <span class='kw'>query</span> <span class='kw'>=</span> <span class='no'>qry_funs</span>$<span class='fu'>gt</span>(<span class='kw'>patent_year</span> <span class='kw'>=</span> <span class='fl'>2010</span>),
  <span class='kw'>fields</span> <span class='kw'>=</span> <span class='fu'><a href='get_fields.html'>get_fields</a></span>(<span class='st'>"patents"</span>, <span class='fu'>c</span>(<span class='st'>"patents"</span>, <span class='st'>"assignees"</span>))
)</div><div class='output co'>#&gt; $data
#&gt; #### A list with a single data frame (with list column(s) inside) on a patent level:
#&gt; 
#&gt; List of 1
#&gt;  $ patents:'data.frame':	25 obs. of  31 variables:
#&gt;   ..$ patent_abstract                       : chr [1:25] "A nose cover or nos"..
#&gt;   ..$ patent_average_processing_time        : logi [1:25] NA ...
#&gt;   ..$ patent_date                           : chr [1:25] "2011-01-04" ...
#&gt;   ..$ patent_firstnamed_assignee_city       : chr [1:25] NA ...
#&gt;   ..$ patent_firstnamed_assignee_country    : chr [1:25] NA ...
#&gt;   ..$ patent_firstnamed_assignee_id         : chr [1:25] NA ...
#&gt;   ..$ patent_firstnamed_assignee_latitude   : chr [1:25] NA ...
#&gt;   ..$ patent_firstnamed_assignee_location_id: chr [1:25] NA ...
#&gt;   ..$ patent_firstnamed_assignee_longitude  : chr [1:25] NA ...
#&gt;   ..$ patent_firstnamed_assignee_state      : chr [1:25] NA ...
#&gt;   ..$ patent_firstnamed_inventor_city       : chr [1:25] "San Pedro" ...
#&gt;   ..$ patent_firstnamed_inventor_country    : chr [1:25] "US" ...
#&gt;   ..$ patent_firstnamed_inventor_id         : chr [1:25] "7861317-1" ...
#&gt;   ..$ patent_firstnamed_inventor_latitude   : chr [1:25] "33.7358" ...
#&gt;   ..$ patent_firstnamed_inventor_location_id: chr [1:25] "33.7358333|-118.291"..
#&gt;   ..$ patent_firstnamed_inventor_longitude  : chr [1:25] "-118.291" ...
#&gt;   ..$ patent_firstnamed_inventor_state      : chr [1:25] "CA" ...
#&gt;   ..$ patent_id                             : chr [1:25] "7861317" ...
#&gt;   ..$ patent_kind                           : chr [1:25] "B2" ...
#&gt;   ..$ patent_number                         : chr [1:25] "7861317" ...
#&gt;   ..$ patent_num_cited_by_us_patents        : chr [1:25] "3" ...
#&gt;   ..$ patent_num_claims                     : chr [1:25] "9" ...
#&gt;   ..$ patent_num_combined_citations         : chr [1:25] "12" ...
#&gt;   ..$ patent_num_foreign_citations          : chr [1:25] "0" ...
#&gt;   ..$ patent_num_us_application_citations   : chr [1:25] "0" ...
#&gt;   ..$ patent_num_us_patent_citations        : chr [1:25] "12" ...
#&gt;   ..$ patent_processing_time                : chr [1:25] "2279" ...
#&gt;   ..$ patent_title                          : chr [1:25] "Nose cover" ...
#&gt;   ..$ patent_type                           : chr [1:25] "utility" ...
#&gt;   ..$ patent_year                           : chr [1:25] "2011" ...
#&gt;   ..$ assignees                             :List of 25
#&gt; 
#&gt; $query_results
#&gt; #### Distinct entity counts across all downloadable pages of output:
#&gt; 
#&gt; total_patent_count = 100,000</div><div class='input'>
<span class='fu'>search_pv</span>(
  <span class='kw'>query</span> <span class='kw'>=</span> <span class='no'>qry_funs</span>$<span class='fu'>gt</span>(<span class='kw'>patent_year</span> <span class='kw'>=</span> <span class='fl'>2010</span>),
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"POST"</span>,
  <span class='kw'>fields</span> <span class='kw'>=</span> <span class='st'>"patent_number"</span>,
  <span class='kw'>sort</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"patent_number"</span> <span class='kw'>=</span> <span class='st'>"asc"</span>)
)</div><div class='output co'>#&gt; $data
#&gt; #### A list with a single data frame on a patent level:
#&gt; 
#&gt; List of 1
#&gt;  $ patents:'data.frame':	25 obs. of  1 variable:
#&gt;   ..$ patent_number: chr [1:25] "7861317" ...
#&gt; 
#&gt; $query_results
#&gt; #### Distinct entity counts across all downloadable pages of output:
#&gt; 
#&gt; total_patent_count = 100,000</div><div class='input'>
<span class='fu'>search_pv</span>(
  <span class='kw'>query</span> <span class='kw'>=</span> <span class='no'>qry_funs</span>$<span class='fu'>eq</span>(<span class='kw'>inventor_last_name</span> <span class='kw'>=</span> <span class='st'>"crew"</span>),
  <span class='kw'>all_pages</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</div><div class='output co'>#&gt; $data
#&gt; #### A list with a single data frame on a patent level:
#&gt; 
#&gt; List of 1
#&gt;  $ patents:'data.frame':	98 obs. of  3 variables:
#&gt;   ..$ patent_id    : chr [1:98] "3961846" ...
#&gt;   ..$ patent_number: chr [1:98] "3961846" ...
#&gt;   ..$ patent_title : chr [1:98] "Ultra-high reduction microfiche layout and p"..
#&gt; 
#&gt; $query_results
#&gt; #### Distinct entity counts across all downloadable pages of output:
#&gt; 
#&gt; total_patent_count = 98</div><div class='input'>
<span class='fu'>search_pv</span>(
  <span class='kw'>query</span> <span class='kw'>=</span> <span class='no'>qry_funs</span>$<span class='fu'>contains</span>(<span class='kw'>inventor_last_name</span> <span class='kw'>=</span> <span class='st'>"smith"</span>),
  <span class='kw'>endpoint</span> <span class='kw'>=</span> <span class='st'>"assignees"</span>
)</div><div class='output co'>#&gt; $data
#&gt; #### A list with a single data frame on an assignee level:
#&gt; 
#&gt; List of 1
#&gt;  $ assignees:'data.frame':	25 obs. of  4 variables:
#&gt;   ..$ assignee_id          : chr [1:25] "000fd451e3903862279995c8f7946893" ...
#&gt;   ..$ assignee_first_name  : chr [1:25] NA ...
#&gt;   ..$ assignee_last_name   : chr [1:25] NA ...
#&gt;   ..$ assignee_organization: chr [1:25] "Ferranti-Packard Limited" ...
#&gt; 
#&gt; $query_results
#&gt; #### Distinct entity counts across all downloadable pages of output:
#&gt; 
#&gt; total_assignee_count = 8,943</div><div class='input'>
<span class='fu'>search_pv</span>(
  <span class='kw'>query</span> <span class='kw'>=</span> <span class='no'>qry_funs</span>$<span class='fu'>contains</span>(<span class='kw'>inventor_last_name</span> <span class='kw'>=</span> <span class='st'>"smith"</span>),
  <span class='kw'>config</span> <span class='kw'>=</span> <span class='kw pkg'>httr</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/httr/topics/timeout'>timeout</a></span>(<span class='fl'>40</span>)
)</div><div class='output co'>#&gt; $data
#&gt; #### A list with a single data frame on a patent level:
#&gt; 
#&gt; List of 1
#&gt;  $ patents:'data.frame':	25 obs. of  3 variables:
#&gt;   ..$ patent_id    : chr [1:25] "3930365" ...
#&gt;   ..$ patent_number: chr [1:25] "3930365" ...
#&gt;   ..$ patent_title : chr [1:25] "Fuel control system for gas turbine engine" ...
#&gt; 
#&gt; $query_results
#&gt; #### Distinct entity counts across all downloadable pages of output:
#&gt; 
#&gt; total_patent_count = 51,351</div><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># Will view error message in RStudio's viewer pane:</span>
<span class='fu'>search_pv</span>(
   <span class='kw'>query</span> <span class='kw'>=</span> <span class='fu'><a href='with_qfuns.html'>with_qfuns</a></span>(<span class='fu'>not</span>(<span class='fu'>text_any</span>(<span class='kw'>patent_title</span> <span class='kw'>=</span> <span class='st'>"hi"</span>))),
   <span class='kw'>error_browser</span> <span class='kw'>=</span> <span class='kw pkg'>rstudioapi</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/rstudioapi/topics/viewer'>viewer</a></span>
)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christopher Baker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
